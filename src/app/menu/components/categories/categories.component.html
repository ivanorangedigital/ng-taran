<ul class="space-y-6">

    <ng-container *ngIf="(id$ | async) as id; else categoriesTemplate">

        <app-products [id]="id" [categories]="categories$.value"></app-products>

    </ng-container>

    <ng-template #categoriesTemplate>

        <ng-container *ngFor="let category of categories$ | async">

            <div>
                <app-category [category]="category" [categories]="categories$.value"></app-category>
            </div>

        </ng-container>

    </ng-template>

</ul>